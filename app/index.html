<!doctype html>
<html class="no-js">
  <head>
    <meta charset="utf-8">
    <title>Heirloom JS</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <link rel="shortcut icon" href="/favicon.ico">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <!-- build:css /styles/vendor.css -->
    <!-- bower:css -->
    <link rel="stylesheet" href="/bower_components/dropzone/downloads/css/basic.css" />
    <link rel="stylesheet" href="/bower_components/dropzone/downloads/css/dropzone.css" />
    <!-- endbower -->
    <!-- endbuild -->
    <!-- build:css(.tmp) /styles/main.css -->
    <link rel="stylesheet" href="/styles/main.css">
    <!-- endbuild -->
    <script>
      // Picture element HTML5 shiv
      document.createElement("picture");
    </script>
  </head>
  <body>
    <!--[if lt IE 10]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <!-- TODO: Move templates to separate files -->
    <script type="text/x-handlebars">
      <nav>
        <h1>Heirloom</h1>

        <ul>
          <li>{{#link-to 'photos'}}Photos{{/link-to}}</li>
          <li>{{#link-to 'albums'}}Albums{{/link-to}}</li>
          <li>{{#link-to 'upload'}}Upload{{/link-to}}</li>
        </ul>
      </nav>
      {{outlet}}
    </script>

    <script type="text/x-handlebars" data-template-name="photos">
      {{outlet}}

      <h2>Photos</h2>

      {{#each}}
        {{#if source}}
          {{#link-to 'photo' id}}<img {{bind-attr src=thumbVersion}} class="gallery-photo">{{/link-to}}
        {{/if}}
      {{/each}}

      {{#if loadingMore}}
      <div class="spinner"></div>
      {{else}}
      <div class="spinner-placeholder"></div>
      {{/if}}
    </script>

    <script type="text/x-handlebars" data-template-name="albums">
      <h2>Albums</h2>
    </script>

    <script type="text/x-handlebars" data-template-name="upload">
      <h2>Upload</h2>

      <section class="dropzone"></section>
    </script>

    <script type="text/x-handlebars" data-template-name="photo">
      <section class="lightbox">
        {{#if loadingImg}}<div class="spinner"></div>{{/if}}

        {{view App.ImageView image=firstState}}
        {{view App.ImageView image=secondState}}

        {{#if prevId}}
          {{#link-to 'photo' prevId}}<div class="left-arrow"></div>{{/link-to}}
        {{/if}}
        {{#if nextId}}
          {{#link-to 'photo' nextId}}<div class="right-arrow"></div>{{/link-to}}
        {{/if}}
      </section>
    </script>

    <!-- build:js /scripts/vendor.js -->
    <!-- bower:js -->
    <script src="/bower_components/jquery/dist/jquery.js"></script>
    <script src="/bower_components/handlebars/handlebars.js"></script>
    <script src="/bower_components/ember/ember.js"></script>
    <script src="/bower_components/picturefill/dist/picturefill.js"></script>
    <script src="/bower_components/dropzone/downloads/dropzone.min.js"></script>
    <script src="/bower_components/ember-data/ember-data.js"></script>
    <!-- endbower -->
    <!-- endbuild -->

    <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
    <script>
      (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
      function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      e.src='//www.google-analytics.com/analytics.js';
      r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
      ga('create','UA-XXXXX-X');ga('send','pageview');
    </script>

    <!-- build:js({app,.tmp}) /scripts/main.js -->
    <script src="/scripts/utils/utils.js"></script>
    <script src="/scripts/utils/infiniteScroll.js"></script>
    <script src="/scripts/main.js"></script>
    <script src="/scripts/routes/photosRoute.js"></script>
    <script src="/scripts/controllers/photoController.js"></script>
    <script src="/scripts/controllers/photosController.js"></script>
    <script src="/scripts/views/imageView.js"></script>
    <script src="/scripts/views/photoView.js"></script>
    <script src="/scripts/views/photosView.js"></script>
    <script src="/scripts/views/uploadView.js"></script>
    <script src="/scripts/adapters/applicationAdapter.js"></script>
    <script src="/scripts/upload/uploadSignature.js"></script>
    <script src="/scripts/upload/uploadToS3.js"></script>
    <!-- endbuild -->
</body>
</html>
